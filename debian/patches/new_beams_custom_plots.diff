From 4ccec1a6623426ad7b3672ce85424ad9201e5b73 Mon Sep 17 00:00:00 2001
From: John Tapsell <johnflux@gmail.com>
Date: Wed, 6 Jun 2012 23:00:36 +0100
Subject: [PATCH] Fix regression that you couldn't add new beams to custom
 plots

Thanks to Simon Kaczor for the patch
BUG: 290504
---
 ksysguard/gui/WorkSheet.cpp |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

diff --git a/ksysguard/gui/WorkSheet.cpp b/ksysguard/gui/WorkSheet.cpp
index a50019a..b20f077 100644
--- a/ksysguard/gui/WorkSheet.cpp
+++ b/ksysguard/gui/WorkSheet.cpp
@@ -407,13 +407,11 @@ KSGRD::SensorDisplay *WorkSheet::addDisplay( const QString &hostName,
             return 0;
         }
         display = insertDisplay(displayType, sensorDescr, index);
-	if (!display->addSensor( hostName, sensorName, sensorType, sensorDescr )) {
+    }
+    if (!display->addSensor( hostName, sensorName, sensorType, sensorDescr )) {
             // Failed to add sensor, so we need to remove the display that we just added
             removeDisplay(display);
             return 0;
-	}
-
-
     }
 
     return display;
-- 
1.7.10

